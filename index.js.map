{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgs => {\n  const {\n    webformatURL,\n    largeImageURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = imgs;\n\n  return `<li class=\"gallery-card\">\n            <a href=${largeImageURL} class=\"gallery-link\">\n              <img class=\"gallery-img\" src=${webformatURL} alt='s${tags}'>\n            </a>\n\n          <ul class=\"description\">\n            <li class=\"description-item\">\n              <p class=\"descriotion-text\">Likes<span class=\"descriotion-span\">${likes}</span></p>\n            </li>\n            <li class=\"description-item\">\n              <p class=\"descriotion-text\">Views<span class=\"descriotion-span\">${views}</span></p>\n            </li>\n            <li class=\"description-item\">\n              <p class=\"descriotion-text\">Comments<span class=\"descriotion-span\">${comments}</span></p>\n            </li>\n            <li class=\"description-item\">\n              <p class=\"descriotion-text\">Downloads<span class=\"descriotion-span\">${downloads}</</span></p>\n            </li>\n          </ul>\n          </li>`;\n};\n","import axios from 'axios';\n\nexport const fetchPhotosByQuery = searchQuary => {\n  const searchParams = new URLSearchParams({\n    key: '48274046-7613a5ba2ef136dbd50664a67',\n    q: searchQuary,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 12,\n  });\n\n    return axios.get(`https://pixabay.com/api/?${searchParams}`);\n};\n    \n//   return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n//     if (!response.ok) {\n//       trow(new Error(response.status));\n//     }\n//     return response.json();\n//   });\n\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\n\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader-container');\n\niziToast.settings({\n  position: 'topRight',\n  theme: 'dark',\n  backgroundColor: '#ef4040',\n  timeout: 2000,\n});\n\nconst lightbox = new SimpleLightbox('.js-gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n    animationSpeed: 400,\n});\n\n\n\nconst seachFormEl = document.querySelector('.js-seach-form');\n\n\nconst onSeachFormSubmit = async evt => {\n    try {\n        evt.preventDefault();\n\n        const searchQuary = evt.currentTarget.elements.user_query.value.trim();\n\n        if (searchQuary === '') {\n            iziToast.warning({\n              message: 'Please feel this field!',\n            });\n            return;\n        }\n        \n        const {data} = await fetchPhotosByQuery(searchQuary);\n        \n        console.log(data);\n\n        if (data.total === 0) {\n          iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n          galleryEl.innerHTML = '';\n          seachFormEl.reset();\n          return;\n        }\n        \n      const galleryTemplate = data.hits\n        .map(imgs => createGalleryCardTemplate(imgs))\n        .join('');\n      galleryEl.innerHTML = galleryTemplate;\n      lightbox.refresh();\n      galleryVisibly(true);\n    } catch (err) {\n        console.log(err);\n    }\n    \n};\n\nseachFormEl.addEventListener('submit', onSeachFormSubmit);\n\n\n//   if (searchQuary === '') {\n//     // loaderSwitcher(false);\n//     setTimeout(() => {\n//       iziToast.error({\n//         message: 'Please feel this field!',\n//       });\n//     }, 500);\n//     // seachFormEl.reset();\n//     // loaderSwitcher(true);\n//     return;\n//   }\n\n//   galleryVisibly(true);\n//   loaderSwitcher(false);\n\n//     .then(data => {\n//       \n//     })\n//     .catch(err => {\n//       console.log(err);\n//     })\n//     .finally(() => {\n//       seachFormEl.reset();\n//       loaderSwitcher(true);\n//     });\n//   galleryVisibly(false);\n\n\nfunction loaderSwitcher(boolean) {\n  if (boolean) {\n    setTimeout(() => {\n      loaderEl.classList.add('is-hidden');\n    }, 500);\n  } else {\n    loaderEl.classList.remove('is-hidden');\n  }\n}\n\nfunction galleryVisibly(boolean) {\n  if (boolean) {\n    galleryEl.classList.remove('is-visibly');\n  } else {\n    galleryEl.classList.add('is-visibly');\n  }\n}"],"names":["createGalleryCardTemplate","imgs","webformatURL","largeImageURL","tags","likes","views","comments","downloads","fetchPhotosByQuery","searchQuary","searchParams","axios","galleryEl","iziToast","lightbox","SimpleLightbox","seachFormEl","onSeachFormSubmit","evt","data","galleryTemplate","galleryVisibly","err","boolean"],"mappings":"owBAAO,MAAMA,EAA4BC,GAAQ,CAC/C,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA,sBACaE,CAAa;AAAA,6CACUD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gFAKSC,CAAK;AAAA;AAAA;AAAA,gFAGLC,CAAK;AAAA;AAAA;AAAA,mFAGFC,CAAQ;AAAA;AAAA;AAAA,oFAGPC,CAAS;AAAA;AAAA;AAAA,gBAI7F,EC7BaC,EAAqBC,GAAe,CAC/C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAEC,OAAOE,EAAM,IAAI,4BAA4BD,CAAY,EAAE,CAC/D,ECPME,EAAY,SAAS,cAAc,aAAa,EACrC,SAAS,cAAc,mBAAmB,EAE3DC,EAAS,SAAS,CAChB,SAAU,WACV,MAAO,OACP,gBAAiB,UACjB,QAAS,GACX,CAAC,EAED,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,IACd,eAAgB,GACpB,CAAC,EAIKC,EAAc,SAAS,cAAc,gBAAgB,EAGrDC,EAAoB,MAAMC,GAAO,CACnC,GAAI,CACAA,EAAI,eAAc,EAElB,MAAMT,EAAcS,EAAI,cAAc,SAAS,WAAW,MAAM,OAEhE,GAAIT,IAAgB,GAAI,CACpBI,EAAS,QAAQ,CACf,QAAS,yBACvB,CAAa,EACD,MACH,CAED,KAAM,CAAC,KAAAM,CAAI,EAAI,MAAMX,EAAmBC,CAAW,EAInD,GAFA,QAAQ,IAAIU,CAAI,EAEZA,EAAK,QAAU,EAAG,CACpBN,EAAS,MAAM,CACb,QACE,0EACd,CAAW,EACDD,EAAU,UAAY,GACtBI,EAAY,MAAK,EACjB,MACD,CAEH,MAAMI,EAAkBD,EAAK,KAC1B,IAAInB,GAAQD,EAA0BC,CAAI,CAAC,EAC3C,KAAK,EAAE,EACVY,EAAU,UAAYQ,EACtBN,EAAS,QAAO,EAChBO,EAAe,EAAI,CACpB,OAAQC,EAAK,CACV,QAAQ,IAAIA,CAAG,CAClB,CAEL,EAEAN,EAAY,iBAAiB,SAAUC,CAAiB,EAyCxD,SAASI,EAAeE,EAAS,CAE7BX,EAAU,UAAU,OAAO,YAAY,CAI3C"}